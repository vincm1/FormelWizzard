{% extends "layout.html" %}{% block content %}
	<section class="home">
		<section class="dashboard">
			<div class="container-fluid pt-5 ps-5">
				<div class="banner col-xl-10 mb-5">
					<h3>{{current_user.num_prompts}} von 5 Anfragen verbraucht {{current_user.premium}}</h3>
					<button class="btn btn-primary premium-btn"><i class='bx bx-diamond icon'></i>Premium</button>
				</div>
				{% if current_user.premium and current_user.num_prompts >= 5 or current_user.num_prompts < 5%}
				<div class="prompt mt-3">
					<div class="row align-items start">
						<form method="POST">
							{{form.hidden_tag()}}
							<div class="row mb-4">
								{{form.excel_google.label(id=("prompt-header"))}}
							</div>
							<div class="d-flex flex-row align-items-start">
								<div class="p-2 select" role="group">
									{{form.excel_google()}}
								</div>
								<div class="p-2 select" role="group">
									{{form.info_prompt()}}
								</div>
								<div class="p-2 select" role="group">
									{{form.formula_explain()}}
								</div>
							</div>
	
					<div class="row d-flex mt-5">
						<div class="col-xl-5 col-lg-4 col-md-3 prompt">
							<div class="row">
								{{form.prompt(class="form-control", placeholder="Schreibe mir eine Formel die zwei Zellen summiert z.B.")}}
							</div>
							<div class="row justify-content-end">
								{{form.submit(class="btn btn-primary mt-2 col-lg-5", id="formel-btn")}}
							</div>
							
						</form>
				</div>
					
					{% if explanation %}
					<div class="col-xl-5 col-lg-3 col-md-3 pl-5 formula">
						<div class="card">
							<div class="card-header">
							  Ekrlärung
							</div>
							<div class="card-body p-3">
								<div class="row">
									<p>{{explanation}}</p>
								</div>
								<div class="row d-flex justify-content-end">
									<a href="{{url_for('dashboard.add_favorite')}}">
										<button class="p-2 btn btn-primary col-lg-1 me-2" id="favorite-btn">
											<i class="fa-regular fa-heart"></i>
										</button>
									</a>
								</div>
							</div>
						</div>
					</div>
					
					{% else %}
					<div class="col-xl-5 col-lg-4 col-md-3 pl-4 response">
						<div class="card">
							<div class="card-header p-3">
							  Formel
							</div>
							<div class="card-body p-3">
								<div class="row">
									<p>{{formula}}</p>
								</div>
								<div class="row d-flex justify-content-end">
									<a href="{{url_for('dashboard.add_favorite')}}">
										<button class="p-2 btn btn-primary col-lg-1 me-2" id="favorite-btn">
											<i class="fa-regular fa-heart"></i>
										</button>
									</a>
								</div>
							</div>
						</div>
					</div>

					{% endif %}

				</div>
				{% else %}
				<div class="banner col-xl-10 mb-5">
					<h3>Keine Anfragen mehr übrig</h3>
					<button class="btn btn-primary premium-btn"><i class='bx bx-diamond icon'></i>Premium</button>
				</div>
				{% endif %}
			</div>
			</div>
		</section>
	</section>
{% endblock %}